<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Image Carousel</title>
<style>
  body { font-family: Arial, sans-serif; text-align: center; margin: 2em; }
  img { max-width: 600px; max-height: 400px; }
  .carousel-container { position: relative; display: inline-block; }
  button { margin: 1em; padding: 0.5em 1em; font-size: 1em; }
  a.download-link { display: block; margin-top: 1em; }
</style>
</head>
<body>
  <h1>Image Carousel</h1>
  <div class="carousel-container">
    <img id="carousel-image" src="" alt="No images found" />
  </div>
  <br/>
  <button onclick="prevImage()">Prev</button>
  <button onclick="nextImage()">Next</button>
  <a id="download-link" class="download-link" href="" download>Download This Image</a>

  <script>
    // This array should be dynamically replaced by Flask with your image filenames.
    let images = []; // Replace with server-rendered list e.g. ['pic1.jpg','pic2.png']

    let index = 0;

    function updateImage() {
      if(images.length === 0) {
        document.getElementById('carousel-image').alt = "No images available";
        document.getElementById('carousel-image').src = "";
        document.getElementById('download-link').style.display = 'none';
        return;
      }
      document.getElementById('carousel-image').src = '/images/' + images[index];
      document.getElementById('download-link').href = '/images/' + images[index];
      document.getElementById('download-link').style.display = 'inline-block';
    }

    function prevImage() {
      index = (index - 1 + images.length) % images.length;
      updateImage();
    }

    function nextImage() {
      index = (index + 1) % images.length;
      updateImage();
    }

    updateImage();
  </script>
</body>
</html>
